{"ast":null,"code":"import { __assign, __read, __rest, __spreadArray } from \"tslib\";\nimport { useEffect, useRef, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport usePagination from '../usePagination';\nimport useUpdateEffect from '../useUpdateEffect';\nvar useAntdTable = function (service, options) {\n  var _a;\n  if (options === void 0) {\n    options = {};\n  }\n  var form = options.form,\n    _b = options.defaultType,\n    defaultType = _b === void 0 ? 'simple' : _b,\n    defaultParams = options.defaultParams,\n    _c = options.manual,\n    manual = _c === void 0 ? false : _c,\n    _d = options.refreshDeps,\n    refreshDeps = _d === void 0 ? [] : _d,\n    _e = options.ready,\n    ready = _e === void 0 ? true : _e,\n    rest = __rest(options, [\"form\", \"defaultType\", \"defaultParams\", \"manual\", \"refreshDeps\", \"ready\"]);\n  var result = usePagination(service, __assign({\n    manual: true\n  }, rest));\n  var _f = result.params,\n    params = _f === void 0 ? [] : _f,\n    run = result.run;\n  var cacheFormTableData = params[2] || {};\n  var _g = __read(useState((cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.type) || defaultType), 2),\n    type = _g[0],\n    setType = _g[1];\n  var allFormDataRef = useRef({});\n  var defaultDataSourceRef = useRef([]);\n  var isAntdV4 = !!(form === null || form === void 0 ? void 0 : form.getInternalHooks);\n  // get current active field values\n  var getActiveFieldValues = function () {\n    if (!form) {\n      return {};\n    }\n    // antd 4\n    if (isAntdV4) {\n      return form.getFieldsValue(null, function () {\n        return true;\n      });\n    }\n    // antd 3\n    var allFieldsValue = form.getFieldsValue();\n    var activeFieldsValue = {};\n    Object.keys(allFieldsValue).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFieldsValue[key];\n      }\n    });\n    return activeFieldsValue;\n  };\n  var validateFields = function () {\n    if (!form) {\n      return Promise.resolve({});\n    }\n    var activeFieldsValue = getActiveFieldValues();\n    var fields = Object.keys(activeFieldsValue);\n    // antd 4\n    if (isAntdV4) {\n      return form.validateFields(fields);\n    }\n    // antd 3\n    return new Promise(function (resolve, reject) {\n      form.validateFields(fields, function (errors, values) {\n        if (errors) {\n          reject(errors);\n        } else {\n          resolve(values);\n        }\n      });\n    });\n  };\n  var restoreForm = function () {\n    if (!form) {\n      return;\n    }\n    // antd v4\n    if (isAntdV4) {\n      return form.setFieldsValue(allFormDataRef.current);\n    }\n    // antd v3\n    var activeFieldsValue = {};\n    Object.keys(allFormDataRef.current).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFormDataRef.current[key];\n      }\n    });\n    form.setFieldsValue(activeFieldsValue);\n  };\n  var changeType = function () {\n    var activeFieldsValue = getActiveFieldValues();\n    allFormDataRef.current = __assign(__assign({}, allFormDataRef.current), activeFieldsValue);\n    setType(function (t) {\n      return t === 'simple' ? 'advance' : 'simple';\n    });\n  };\n  var _submit = function (initPagination) {\n    if (!ready) {\n      return;\n    }\n    setTimeout(function () {\n      validateFields().then(function (values) {\n        if (values === void 0) {\n          values = {};\n        }\n        var pagination = initPagination || __assign(__assign({\n          pageSize: options.defaultPageSize || 10\n        }, (params === null || params === void 0 ? void 0 : params[0]) || {}), {\n          current: 1\n        });\n        if (!form) {\n          // @ts-ignore\n          run(pagination);\n          return;\n        }\n        // record all form data\n        allFormDataRef.current = __assign(__assign({}, allFormDataRef.current), values);\n        // @ts-ignore\n        run(pagination, values, {\n          allFormData: allFormDataRef.current,\n          type: type\n        });\n      }).catch(function (err) {\n        return err;\n      });\n    });\n  };\n  var reset = function () {\n    var _a, _b;\n    if (form) {\n      form.resetFields();\n    }\n    _submit(__assign(__assign({}, (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]) || {}), {\n      pageSize: options.defaultPageSize || ((_b = (_a = options.defaultParams) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.pageSize) || 10,\n      current: 1\n    }));\n  };\n  var submit = function (e) {\n    var _a;\n    (_a = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _a === void 0 ? void 0 : _a.call(e);\n    _submit();\n  };\n  var onTableChange = function (pagination, filters, sorter, extra) {\n    var _a = __read(params || []),\n      oldPaginationParams = _a[0],\n      restParams = _a.slice(1);\n    run.apply(void 0, __spreadArray([__assign(__assign({}, oldPaginationParams), {\n      current: pagination.current,\n      pageSize: pagination.pageSize,\n      filters: filters,\n      sorter: sorter,\n      extra: extra\n    })], __read(restParams), false));\n  };\n  // init\n  useEffect(function () {\n    // if has cache, use cached params. ignore manual and ready.\n    if (params.length > 0) {\n      allFormDataRef.current = (cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.allFormData) || {};\n      restoreForm();\n      // @ts-ignore\n      run.apply(void 0, __spreadArray([], __read(params), false));\n      return;\n    }\n    if (!manual && ready) {\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, []);\n  // change search type, restore form data\n  useUpdateEffect(function () {\n    if (!ready) {\n      return;\n    }\n    restoreForm();\n  }, [type]);\n  // refresh & ready change on the same time\n  var hasAutoRun = useRef(false);\n  hasAutoRun.current = false;\n  useUpdateEffect(function () {\n    if (!manual && ready) {\n      hasAutoRun.current = true;\n      if (form) {\n        form.resetFields();\n      }\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, [ready]);\n  useUpdateEffect(function () {\n    if (hasAutoRun.current) {\n      return;\n    }\n    if (!ready) {\n      return;\n    }\n    if (!manual) {\n      hasAutoRun.current = true;\n      result.pagination.changeCurrent(1);\n    }\n  }, __spreadArray([], __read(refreshDeps), false));\n  return __assign(__assign({}, result), {\n    tableProps: {\n      dataSource: ((_a = result.data) === null || _a === void 0 ? void 0 : _a.list) || defaultDataSourceRef.current,\n      loading: result.loading,\n      onChange: useMemoizedFn(onTableChange),\n      pagination: {\n        current: result.pagination.current,\n        pageSize: result.pagination.pageSize,\n        total: result.pagination.total\n      }\n    },\n    search: {\n      submit: useMemoizedFn(submit),\n      type: type,\n      changeType: useMemoizedFn(changeType),\n      reset: useMemoizedFn(reset)\n    }\n  });\n};\nexport default useAntdTable;","map":{"version":3,"names":["__assign","__read","__rest","__spreadArray","useEffect","useRef","useState","useMemoizedFn","usePagination","useUpdateEffect","useAntdTable","service","options","_a","form","_b","defaultType","defaultParams","_c","manual","_d","refreshDeps","_e","ready","rest","result","_f","params","run","cacheFormTableData","_g","type","setType","allFormDataRef","defaultDataSourceRef","isAntdV4","getInternalHooks","getActiveFieldValues","getFieldsValue","allFieldsValue","activeFieldsValue","Object","keys","forEach","key","getFieldInstance","validateFields","Promise","resolve","fields","reject","errors","values","restoreForm","setFieldsValue","current","changeType","t","_submit","initPagination","setTimeout","then","pagination","pageSize","defaultPageSize","allFormData","catch","err","reset","resetFields","submit","e","preventDefault","call","onTableChange","filters","sorter","extra","oldPaginationParams","restParams","slice","apply","length","hasAutoRun","changeCurrent","tableProps","dataSource","data","list","loading","onChange","total","search"],"sources":["C:/Users/aprim/Рабочий стол/pizza/node_modules/ahooks/es/useAntdTable/index.js"],"sourcesContent":["import { __assign, __read, __rest, __spreadArray } from \"tslib\";\nimport { useEffect, useRef, useState } from 'react';\nimport useMemoizedFn from '../useMemoizedFn';\nimport usePagination from '../usePagination';\nimport useUpdateEffect from '../useUpdateEffect';\nvar useAntdTable = function (service, options) {\n  var _a;\n  if (options === void 0) {\n    options = {};\n  }\n  var form = options.form,\n    _b = options.defaultType,\n    defaultType = _b === void 0 ? 'simple' : _b,\n    defaultParams = options.defaultParams,\n    _c = options.manual,\n    manual = _c === void 0 ? false : _c,\n    _d = options.refreshDeps,\n    refreshDeps = _d === void 0 ? [] : _d,\n    _e = options.ready,\n    ready = _e === void 0 ? true : _e,\n    rest = __rest(options, [\"form\", \"defaultType\", \"defaultParams\", \"manual\", \"refreshDeps\", \"ready\"]);\n  var result = usePagination(service, __assign({\n    manual: true\n  }, rest));\n  var _f = result.params,\n    params = _f === void 0 ? [] : _f,\n    run = result.run;\n  var cacheFormTableData = params[2] || {};\n  var _g = __read(useState((cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.type) || defaultType), 2),\n    type = _g[0],\n    setType = _g[1];\n  var allFormDataRef = useRef({});\n  var defaultDataSourceRef = useRef([]);\n  var isAntdV4 = !!(form === null || form === void 0 ? void 0 : form.getInternalHooks);\n  // get current active field values\n  var getActiveFieldValues = function () {\n    if (!form) {\n      return {};\n    }\n    // antd 4\n    if (isAntdV4) {\n      return form.getFieldsValue(null, function () {\n        return true;\n      });\n    }\n    // antd 3\n    var allFieldsValue = form.getFieldsValue();\n    var activeFieldsValue = {};\n    Object.keys(allFieldsValue).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFieldsValue[key];\n      }\n    });\n    return activeFieldsValue;\n  };\n  var validateFields = function () {\n    if (!form) {\n      return Promise.resolve({});\n    }\n    var activeFieldsValue = getActiveFieldValues();\n    var fields = Object.keys(activeFieldsValue);\n    // antd 4\n    if (isAntdV4) {\n      return form.validateFields(fields);\n    }\n    // antd 3\n    return new Promise(function (resolve, reject) {\n      form.validateFields(fields, function (errors, values) {\n        if (errors) {\n          reject(errors);\n        } else {\n          resolve(values);\n        }\n      });\n    });\n  };\n  var restoreForm = function () {\n    if (!form) {\n      return;\n    }\n    // antd v4\n    if (isAntdV4) {\n      return form.setFieldsValue(allFormDataRef.current);\n    }\n    // antd v3\n    var activeFieldsValue = {};\n    Object.keys(allFormDataRef.current).forEach(function (key) {\n      if (form.getFieldInstance ? form.getFieldInstance(key) : true) {\n        activeFieldsValue[key] = allFormDataRef.current[key];\n      }\n    });\n    form.setFieldsValue(activeFieldsValue);\n  };\n  var changeType = function () {\n    var activeFieldsValue = getActiveFieldValues();\n    allFormDataRef.current = __assign(__assign({}, allFormDataRef.current), activeFieldsValue);\n    setType(function (t) {\n      return t === 'simple' ? 'advance' : 'simple';\n    });\n  };\n  var _submit = function (initPagination) {\n    if (!ready) {\n      return;\n    }\n    setTimeout(function () {\n      validateFields().then(function (values) {\n        if (values === void 0) {\n          values = {};\n        }\n        var pagination = initPagination || __assign(__assign({\n          pageSize: options.defaultPageSize || 10\n        }, (params === null || params === void 0 ? void 0 : params[0]) || {}), {\n          current: 1\n        });\n        if (!form) {\n          // @ts-ignore\n          run(pagination);\n          return;\n        }\n        // record all form data\n        allFormDataRef.current = __assign(__assign({}, allFormDataRef.current), values);\n        // @ts-ignore\n        run(pagination, values, {\n          allFormData: allFormDataRef.current,\n          type: type\n        });\n      }).catch(function (err) {\n        return err;\n      });\n    });\n  };\n  var reset = function () {\n    var _a, _b;\n    if (form) {\n      form.resetFields();\n    }\n    _submit(__assign(__assign({}, (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]) || {}), {\n      pageSize: options.defaultPageSize || ((_b = (_a = options.defaultParams) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.pageSize) || 10,\n      current: 1\n    }));\n  };\n  var submit = function (e) {\n    var _a;\n    (_a = e === null || e === void 0 ? void 0 : e.preventDefault) === null || _a === void 0 ? void 0 : _a.call(e);\n    _submit();\n  };\n  var onTableChange = function (pagination, filters, sorter, extra) {\n    var _a = __read(params || []),\n      oldPaginationParams = _a[0],\n      restParams = _a.slice(1);\n    run.apply(void 0, __spreadArray([__assign(__assign({}, oldPaginationParams), {\n      current: pagination.current,\n      pageSize: pagination.pageSize,\n      filters: filters,\n      sorter: sorter,\n      extra: extra\n    })], __read(restParams), false));\n  };\n  // init\n  useEffect(function () {\n    // if has cache, use cached params. ignore manual and ready.\n    if (params.length > 0) {\n      allFormDataRef.current = (cacheFormTableData === null || cacheFormTableData === void 0 ? void 0 : cacheFormTableData.allFormData) || {};\n      restoreForm();\n      // @ts-ignore\n      run.apply(void 0, __spreadArray([], __read(params), false));\n      return;\n    }\n    if (!manual && ready) {\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, []);\n  // change search type, restore form data\n  useUpdateEffect(function () {\n    if (!ready) {\n      return;\n    }\n    restoreForm();\n  }, [type]);\n  // refresh & ready change on the same time\n  var hasAutoRun = useRef(false);\n  hasAutoRun.current = false;\n  useUpdateEffect(function () {\n    if (!manual && ready) {\n      hasAutoRun.current = true;\n      if (form) {\n        form.resetFields();\n      }\n      allFormDataRef.current = (defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[1]) || {};\n      restoreForm();\n      _submit(defaultParams === null || defaultParams === void 0 ? void 0 : defaultParams[0]);\n    }\n  }, [ready]);\n  useUpdateEffect(function () {\n    if (hasAutoRun.current) {\n      return;\n    }\n    if (!ready) {\n      return;\n    }\n    if (!manual) {\n      hasAutoRun.current = true;\n      result.pagination.changeCurrent(1);\n    }\n  }, __spreadArray([], __read(refreshDeps), false));\n  return __assign(__assign({}, result), {\n    tableProps: {\n      dataSource: ((_a = result.data) === null || _a === void 0 ? void 0 : _a.list) || defaultDataSourceRef.current,\n      loading: result.loading,\n      onChange: useMemoizedFn(onTableChange),\n      pagination: {\n        current: result.pagination.current,\n        pageSize: result.pagination.pageSize,\n        total: result.pagination.total\n      }\n    },\n    search: {\n      submit: useMemoizedFn(submit),\n      type: type,\n      changeType: useMemoizedFn(changeType),\n      reset: useMemoizedFn(reset)\n    }\n  });\n};\nexport default useAntdTable;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}