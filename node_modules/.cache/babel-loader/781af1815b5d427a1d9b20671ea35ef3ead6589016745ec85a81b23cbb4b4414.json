{"ast":null,"code":"import _slicedToArray from\"C:/Users/aprim/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/pizza/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import{selectCartItemById}from'../../redux/cart/selectors';import{addProductInCart}from'../../redux/cart/slice';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var typeNames=['токное','традиционное'];var PizzaBlock=function PizzaBlock(_ref){var id=_ref.id,title=_ref.title,price=_ref.price,imageUrl=_ref.imageUrl,sizes=_ref.sizes,types=_ref.types;var dispatch=useDispatch();var cartItem=useSelector(selectCartItemById(id));var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeSize=_useState2[0],setActiveSize=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),activeType=_useState4[0],setActiveType=_useState4[1];var onClickAddItem=function onClickAddItem(){var item={id:id,title:title,price:price,imageUrl:imageUrl,size:sizes[activeSize],type:typeNames[activeType],count:0};dispatch(addProductInCart(item));};return/*#__PURE__*/_jsx(\"div\",{className:\"pizza-block-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/pizza/\".concat(id),children:[/*#__PURE__*/_jsx(\"img\",{className:\"pizza-block__image\",src:imageUrl,alt:\"Pizza\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"pizza-block__title\",children:title})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__selector\",children:[/*#__PURE__*/_jsx(\"ul\",{children:types.map(function(type,index){return/*#__PURE__*/_jsx(\"li\",{className:index===activeType?'active':'',onClick:function onClick(){return setActiveType(index);},children:typeNames[type]},type);})}),/*#__PURE__*/_jsx(\"ul\",{children:sizes.map(function(size,index){return/*#__PURE__*/_jsxs(\"li\",{className:index===activeSize?'active':'',onClick:function onClick(){return setActiveSize(index);},children:[size,\" \\u0441\\u043C.\"]},size);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pizza-block__price\",children:[\"\\u043E\\u0442 \",price,\" \\u20BD\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:onClickAddItem,className:\"button button--outline button--add\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 12 12\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\",fill:\"white\"})}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}),cartItem&&/*#__PURE__*/_jsx(\"i\",{children:cartItem.count>0?cartItem.count:''})]})]})]})});};export default PizzaBlock;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","Link","selectCartItemById","addProductInCart","jsx","_jsx","jsxs","_jsxs","typeNames","PizzaBlock","_ref","id","title","price","imageUrl","sizes","types","dispatch","cartItem","_useState","_useState2","_slicedToArray","activeSize","setActiveSize","_useState3","_useState4","activeType","setActiveType","onClickAddItem","item","size","type","count","className","children","to","concat","src","alt","map","index","onClick","width","height","viewBox","fill","xmlns","d"],"sources":["C:/Users/aprim/Рабочий стол/pizza/src/components/PizzaBlock/index.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { CartItem } from '../../redux/cart/types';\r\nimport { selectCartItemById } from '../../redux/cart/selectors';\r\nimport { addProductInCart } from '../../redux/cart/slice';\r\n\r\nconst typeNames = ['токное', 'традиционное'];\r\n\r\ntype PizzaBlockProps = {\r\n  id: string;\r\n  title: string;\r\n  price: number;\r\n  imageUrl: string;\r\n  sizes: number[];\r\n  types: number[];\r\n  count: number;\r\n};\r\n\r\nconst PizzaBlock: React.FC<PizzaBlockProps> = ({ id, title, price, imageUrl, sizes, types }) => {\r\n  const dispatch = useDispatch();\r\n  const cartItem = useSelector(selectCartItemById(id));\r\n\r\n  const [activeSize, setActiveSize] = useState(0);\r\n  const [activeType, setActiveType] = useState(0);\r\n\r\n  const onClickAddItem = () => {\r\n    const item: CartItem = {\r\n      id,\r\n      title,\r\n      price,\r\n      imageUrl,\r\n      size: sizes[activeSize],\r\n      type: typeNames[activeType],\r\n      count: 0,\r\n    };\r\n    dispatch(addProductInCart(item));\r\n  };\r\n\r\n  return (\r\n    <div className=\"pizza-block-wrapper\">\r\n      <div className=\"pizza-block\">\r\n        <Link to={`/pizza/${id}`}>\r\n          <img className=\"pizza-block__image\" src={imageUrl} alt=\"Pizza\" />\r\n          <h4 className=\"pizza-block__title\">{title}</h4>\r\n        </Link>\r\n        <div className=\"pizza-block__selector\">\r\n          <ul>\r\n            {types.map((type, index) => (\r\n              <li\r\n                key={type}\r\n                className={index === activeType ? 'active' : ''}\r\n                onClick={() => setActiveType(index)}>\r\n                {typeNames[type]}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n          <ul>\r\n            {sizes.map((size, index) => (\r\n              <li\r\n                key={size}\r\n                className={index === activeSize ? 'active' : ''}\r\n                onClick={() => setActiveSize(index)}>\r\n                {size} см.\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"pizza-block__bottom\">\r\n          <div className=\"pizza-block__price\">от {price} ₽</div>\r\n          <button onClick={onClickAddItem} className=\"button button--outline button--add\">\r\n            <svg\r\n              width=\"12\"\r\n              height=\"12\"\r\n              viewBox=\"0 0 12 12\"\r\n              fill=\"none\"\r\n              xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path\r\n                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n                fill=\"white\"\r\n              />\r\n            </svg>\r\n            <span>Добавить</span>\r\n            {cartItem && <i>{cartItem.count > 0 ? cartItem.count : ''}</i>}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PizzaBlock;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}