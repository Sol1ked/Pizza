{"ast":null,"code":"import { __assign, __read, __values } from \"tslib\";\nimport 'intersection-observer';\nimport { useState } from 'react';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nfunction useInViewport(target, options) {\n  var _a = __read(useState(), 2),\n    state = _a[0],\n    setState = _a[1];\n  var _b = __read(useState(), 2),\n    ratio = _b[0],\n    setRatio = _b[1];\n  useEffectWithTarget(function () {\n    var el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    var observer = new IntersectionObserver(function (entries) {\n      var e_1, _a;\n      try {\n        for (var entries_1 = __values(entries), entries_1_1 = entries_1.next(); !entries_1_1.done; entries_1_1 = entries_1.next()) {\n          var entry = entries_1_1.value;\n          setRatio(entry.intersectionRatio);\n          setState(entry.isIntersecting);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (entries_1_1 && !entries_1_1.done && (_a = entries_1.return)) _a.call(entries_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }, __assign(__assign({}, options), {\n      root: getTargetElement(options === null || options === void 0 ? void 0 : options.root)\n    }));\n    observer.observe(el);\n    return function () {\n      observer.disconnect();\n    };\n  }, [options === null || options === void 0 ? void 0 : options.rootMargin, options === null || options === void 0 ? void 0 : options.threshold], target);\n  return [state, ratio];\n}\nexport default useInViewport;","map":{"version":3,"names":["__assign","__read","__values","useState","getTargetElement","useEffectWithTarget","useInViewport","target","options","_a","state","setState","_b","ratio","setRatio","el","observer","IntersectionObserver","entries","e_1","entries_1","entries_1_1","next","done","entry","value","intersectionRatio","isIntersecting","e_1_1","error","return","call","root","observe","disconnect","rootMargin","threshold"],"sources":["C:/Users/aprim/Рабочий стол/pizza/node_modules/ahooks/es/useInViewport/index.js"],"sourcesContent":["import { __assign, __read, __values } from \"tslib\";\nimport 'intersection-observer';\nimport { useState } from 'react';\nimport { getTargetElement } from '../utils/domTarget';\nimport useEffectWithTarget from '../utils/useEffectWithTarget';\nfunction useInViewport(target, options) {\n  var _a = __read(useState(), 2),\n    state = _a[0],\n    setState = _a[1];\n  var _b = __read(useState(), 2),\n    ratio = _b[0],\n    setRatio = _b[1];\n  useEffectWithTarget(function () {\n    var el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    var observer = new IntersectionObserver(function (entries) {\n      var e_1, _a;\n      try {\n        for (var entries_1 = __values(entries), entries_1_1 = entries_1.next(); !entries_1_1.done; entries_1_1 = entries_1.next()) {\n          var entry = entries_1_1.value;\n          setRatio(entry.intersectionRatio);\n          setState(entry.isIntersecting);\n        }\n      } catch (e_1_1) {\n        e_1 = {\n          error: e_1_1\n        };\n      } finally {\n        try {\n          if (entries_1_1 && !entries_1_1.done && (_a = entries_1.return)) _a.call(entries_1);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    }, __assign(__assign({}, options), {\n      root: getTargetElement(options === null || options === void 0 ? void 0 : options.root)\n    }));\n    observer.observe(el);\n    return function () {\n      observer.disconnect();\n    };\n  }, [options === null || options === void 0 ? void 0 : options.rootMargin, options === null || options === void 0 ? void 0 : options.threshold], target);\n  return [state, ratio];\n}\nexport default useInViewport;"],"mappings":"AAAA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAO,uBAAuB;AAC9B,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,OAAOC,mBAAmB,MAAM,8BAA8B;AAC9D,SAASC,aAAaA,CAACC,MAAM,EAAEC,OAAO,EAAE;EACtC,IAAIC,EAAE,GAAGR,MAAM,CAACE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5BO,KAAK,GAAGD,EAAE,CAAC,CAAC,CAAC;IACbE,QAAQ,GAAGF,EAAE,CAAC,CAAC,CAAC;EAClB,IAAIG,EAAE,GAAGX,MAAM,CAACE,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;IAC5BU,KAAK,GAAGD,EAAE,CAAC,CAAC,CAAC;IACbE,QAAQ,GAAGF,EAAE,CAAC,CAAC,CAAC;EAClBP,mBAAmB,CAAC,YAAY;IAC9B,IAAIU,EAAE,GAAGX,gBAAgB,CAACG,MAAM,CAAC;IACjC,IAAI,CAACQ,EAAE,EAAE;MACP;IACF;IACA,IAAIC,QAAQ,GAAG,IAAIC,oBAAoB,CAAC,UAAUC,OAAO,EAAE;MACzD,IAAIC,GAAG,EAAEV,EAAE;MACX,IAAI;QACF,KAAK,IAAIW,SAAS,GAAGlB,QAAQ,CAACgB,OAAO,CAAC,EAAEG,WAAW,GAAGD,SAAS,CAACE,IAAI,CAAC,CAAC,EAAE,CAACD,WAAW,CAACE,IAAI,EAAEF,WAAW,GAAGD,SAAS,CAACE,IAAI,CAAC,CAAC,EAAE;UACzH,IAAIE,KAAK,GAAGH,WAAW,CAACI,KAAK;UAC7BX,QAAQ,CAACU,KAAK,CAACE,iBAAiB,CAAC;UACjCf,QAAQ,CAACa,KAAK,CAACG,cAAc,CAAC;QAChC;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdT,GAAG,GAAG;UACJU,KAAK,EAAED;QACT,CAAC;MACH,CAAC,SAAS;QACR,IAAI;UACF,IAAIP,WAAW,IAAI,CAACA,WAAW,CAACE,IAAI,KAAKd,EAAE,GAAGW,SAAS,CAACU,MAAM,CAAC,EAAErB,EAAE,CAACsB,IAAI,CAACX,SAAS,CAAC;QACrF,CAAC,SAAS;UACR,IAAID,GAAG,EAAE,MAAMA,GAAG,CAACU,KAAK;QAC1B;MACF;IACF,CAAC,EAAE7B,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEQ,OAAO,CAAC,EAAE;MACjCwB,IAAI,EAAE5B,gBAAgB,CAACI,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAACwB,IAAI;IACvF,CAAC,CAAC,CAAC;IACHhB,QAAQ,CAACiB,OAAO,CAAClB,EAAE,CAAC;IACpB,OAAO,YAAY;MACjBC,QAAQ,CAACkB,UAAU,CAAC,CAAC;IACvB,CAAC;EACH,CAAC,EAAE,CAAC1B,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC2B,UAAU,EAAE3B,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,OAAO,CAAC4B,SAAS,CAAC,EAAE7B,MAAM,CAAC;EACvJ,OAAO,CAACG,KAAK,EAAEG,KAAK,CAAC;AACvB;AACA,eAAeP,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}