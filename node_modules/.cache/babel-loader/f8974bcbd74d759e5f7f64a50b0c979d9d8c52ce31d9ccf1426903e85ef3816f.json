{"ast":null,"code":"import { __read } from \"tslib\";\nimport { useState } from 'react';\nimport screenfull from 'screenfull';\nimport useLatest from '../useLatest';\nimport useMemoizedFn from '../useMemoizedFn';\nimport useUnmount from '../useUnmount';\nimport { getTargetElement } from '../utils/domTarget';\nimport { isBoolean } from '../utils';\nvar useFullscreen = function (target, options) {\n  var _a = options || {},\n    onExit = _a.onExit,\n    onEnter = _a.onEnter,\n    _b = _a.pageFullscreen,\n    pageFullscreen = _b === void 0 ? false : _b;\n  var _c = isBoolean(pageFullscreen) || !pageFullscreen ? {} : pageFullscreen,\n    _d = _c.className,\n    className = _d === void 0 ? 'ahooks-page-fullscreen' : _d,\n    _e = _c.zIndex,\n    zIndex = _e === void 0 ? 999999 : _e;\n  var onExitRef = useLatest(onExit);\n  var onEnterRef = useLatest(onEnter);\n  var _f = __read(useState(false), 2),\n    state = _f[0],\n    setState = _f[1];\n  var invokeCallback = function (fullscreen) {\n    var _a, _b;\n    if (fullscreen) {\n      (_a = onEnterRef.current) === null || _a === void 0 ? void 0 : _a.call(onEnterRef);\n    } else {\n      (_b = onExitRef.current) === null || _b === void 0 ? void 0 : _b.call(onExitRef);\n    }\n  };\n  // Memoized, otherwise it will be listened multiple times.\n  var onScreenfullChange = useMemoizedFn(function () {\n    if (screenfull.isEnabled) {\n      var el = getTargetElement(target);\n      if (!screenfull.element) {\n        invokeCallback(false);\n        setState(false);\n        screenfull.off('change', onScreenfullChange);\n      } else {\n        var isFullscreen = screenfull.element === el;\n        invokeCallback(isFullscreen);\n        setState(isFullscreen);\n      }\n    }\n  });\n  var togglePageFullscreen = function (fullscreen) {\n    var el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    var styleElem = document.getElementById(className);\n    if (fullscreen) {\n      el.classList.add(className);\n      if (!styleElem) {\n        styleElem = document.createElement('style');\n        styleElem.setAttribute('id', className);\n        styleElem.textContent = \"\\n          .\".concat(className, \" {\\n            position: fixed; left: 0; top: 0; right: 0; bottom: 0;\\n            width: 100% !important; height: 100% !important;\\n            z-index: \").concat(zIndex, \";\\n          }\");\n        el.appendChild(styleElem);\n      }\n    } else {\n      el.classList.remove(className);\n      if (styleElem) {\n        styleElem.remove();\n      }\n    }\n    // Prevent repeated calls when the state is not changed.\n    if (state !== fullscreen) {\n      invokeCallback(fullscreen);\n      setState(fullscreen);\n    }\n  };\n  var enterFullscreen = function () {\n    var el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    if (pageFullscreen) {\n      togglePageFullscreen(true);\n      return;\n    }\n    if (screenfull.isEnabled) {\n      try {\n        screenfull.request(el);\n        screenfull.on('change', onScreenfullChange);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n  var exitFullscreen = function () {\n    var el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    if (pageFullscreen) {\n      togglePageFullscreen(false);\n      return;\n    }\n    if (screenfull.isEnabled && screenfull.element === el) {\n      screenfull.exit();\n    }\n  };\n  var toggleFullscreen = function () {\n    if (state) {\n      exitFullscreen();\n    } else {\n      enterFullscreen();\n    }\n  };\n  useUnmount(function () {\n    if (screenfull.isEnabled && !pageFullscreen) {\n      screenfull.off('change', onScreenfullChange);\n    }\n  });\n  return [state, {\n    enterFullscreen: useMemoizedFn(enterFullscreen),\n    exitFullscreen: useMemoizedFn(exitFullscreen),\n    toggleFullscreen: useMemoizedFn(toggleFullscreen),\n    isEnabled: screenfull.isEnabled\n  }];\n};\nexport default useFullscreen;","map":{"version":3,"names":["__read","useState","screenfull","useLatest","useMemoizedFn","useUnmount","getTargetElement","isBoolean","useFullscreen","target","options","_a","onExit","onEnter","_b","pageFullscreen","_c","_d","className","_e","zIndex","onExitRef","onEnterRef","_f","state","setState","invokeCallback","fullscreen","current","call","onScreenfullChange","isEnabled","el","element","off","isFullscreen","togglePageFullscreen","styleElem","document","getElementById","classList","add","createElement","setAttribute","textContent","concat","appendChild","remove","enterFullscreen","request","on","error","console","exitFullscreen","exit","toggleFullscreen"],"sources":["C:/Users/aprim/Рабочий стол/pizza/node_modules/ahooks/es/useFullscreen/index.js"],"sourcesContent":["import { __read } from \"tslib\";\nimport { useState } from 'react';\nimport screenfull from 'screenfull';\nimport useLatest from '../useLatest';\nimport useMemoizedFn from '../useMemoizedFn';\nimport useUnmount from '../useUnmount';\nimport { getTargetElement } from '../utils/domTarget';\nimport { isBoolean } from '../utils';\nvar useFullscreen = function (target, options) {\n  var _a = options || {},\n    onExit = _a.onExit,\n    onEnter = _a.onEnter,\n    _b = _a.pageFullscreen,\n    pageFullscreen = _b === void 0 ? false : _b;\n  var _c = isBoolean(pageFullscreen) || !pageFullscreen ? {} : pageFullscreen,\n    _d = _c.className,\n    className = _d === void 0 ? 'ahooks-page-fullscreen' : _d,\n    _e = _c.zIndex,\n    zIndex = _e === void 0 ? 999999 : _e;\n  var onExitRef = useLatest(onExit);\n  var onEnterRef = useLatest(onEnter);\n  var _f = __read(useState(false), 2),\n    state = _f[0],\n    setState = _f[1];\n  var invokeCallback = function (fullscreen) {\n    var _a, _b;\n    if (fullscreen) {\n      (_a = onEnterRef.current) === null || _a === void 0 ? void 0 : _a.call(onEnterRef);\n    } else {\n      (_b = onExitRef.current) === null || _b === void 0 ? void 0 : _b.call(onExitRef);\n    }\n  };\n  // Memoized, otherwise it will be listened multiple times.\n  var onScreenfullChange = useMemoizedFn(function () {\n    if (screenfull.isEnabled) {\n      var el = getTargetElement(target);\n      if (!screenfull.element) {\n        invokeCallback(false);\n        setState(false);\n        screenfull.off('change', onScreenfullChange);\n      } else {\n        var isFullscreen = screenfull.element === el;\n        invokeCallback(isFullscreen);\n        setState(isFullscreen);\n      }\n    }\n  });\n  var togglePageFullscreen = function (fullscreen) {\n    var el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    var styleElem = document.getElementById(className);\n    if (fullscreen) {\n      el.classList.add(className);\n      if (!styleElem) {\n        styleElem = document.createElement('style');\n        styleElem.setAttribute('id', className);\n        styleElem.textContent = \"\\n          .\".concat(className, \" {\\n            position: fixed; left: 0; top: 0; right: 0; bottom: 0;\\n            width: 100% !important; height: 100% !important;\\n            z-index: \").concat(zIndex, \";\\n          }\");\n        el.appendChild(styleElem);\n      }\n    } else {\n      el.classList.remove(className);\n      if (styleElem) {\n        styleElem.remove();\n      }\n    }\n    // Prevent repeated calls when the state is not changed.\n    if (state !== fullscreen) {\n      invokeCallback(fullscreen);\n      setState(fullscreen);\n    }\n  };\n  var enterFullscreen = function () {\n    var el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    if (pageFullscreen) {\n      togglePageFullscreen(true);\n      return;\n    }\n    if (screenfull.isEnabled) {\n      try {\n        screenfull.request(el);\n        screenfull.on('change', onScreenfullChange);\n      } catch (error) {\n        console.error(error);\n      }\n    }\n  };\n  var exitFullscreen = function () {\n    var el = getTargetElement(target);\n    if (!el) {\n      return;\n    }\n    if (pageFullscreen) {\n      togglePageFullscreen(false);\n      return;\n    }\n    if (screenfull.isEnabled && screenfull.element === el) {\n      screenfull.exit();\n    }\n  };\n  var toggleFullscreen = function () {\n    if (state) {\n      exitFullscreen();\n    } else {\n      enterFullscreen();\n    }\n  };\n  useUnmount(function () {\n    if (screenfull.isEnabled && !pageFullscreen) {\n      screenfull.off('change', onScreenfullChange);\n    }\n  });\n  return [state, {\n    enterFullscreen: useMemoizedFn(enterFullscreen),\n    exitFullscreen: useMemoizedFn(exitFullscreen),\n    toggleFullscreen: useMemoizedFn(toggleFullscreen),\n    isEnabled: screenfull.isEnabled\n  }];\n};\nexport default useFullscreen;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}